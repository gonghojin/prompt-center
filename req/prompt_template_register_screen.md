# 🧩 프롬프트 템플릿 등록 화면 기획서

## 📌 기능 목적

- 사용자가 **새로운 프롬프트 템플릿을 등록**할 수 있는 UI
- 역할, 카테고리, 입력 변수, 예시, 공개 범위 등 메타 정보와 함께 등록 가능
- 등록한 템플릿은 기본적으로 `DRAFT` 상태이며, 저장 후 수정 및 발행(PUBLISH) 가능

---

## 🖼️ 화면 구성

### 🔷 화면 구성 요약

| 구역         | 설명                        |
|------------|---------------------------|
| 상단 툴바      | 제목 입력, 저장 버튼, 상태 표시       |
| 기본 정보 영역   | 역할, 카테고리, 설명, 공개 범위       |
| 본문 편집기     | 템플릿 프롬프트 입력란 (다중라인 텍스트박스) |
| 입력 변수 설정   | 변수명 / 설명 / 타입 / 필수 여부 등   |
| 예시 등록      | 입력값 & 예상 출력값 작성 가능        |
| 고급 설정 (선택) | 관련 태그, 버전 설명, 모델 설정 등     |

---

## 🧾 상세 입력 항목

| 항목      | 타입                    | 설명                                         | 필수 |
|---------|-----------------------|--------------------------------------------|----|
| 템플릿 제목  | TextField             | 프롬프트를 구분할 수 있는 제목                          | ✅  |
| 설명      | TextArea              | 간단한 사용 목적 / 요약 설명                          | ❌  |
| 역할      | Dropdown(Enum)        | 생성자의 역할 (예: 백엔드 개발자, DS 등)                 | ✅  |
| 카테고리    | TreeSelect            | 상위/하위 카테고리 선택                              | ✅  |
| 공개 범위   | RadioGroup            | PRIVATE / TEAM / PUBLIC 선택                 | ✅  |
| 프롬프트 본문 | TextArea (code-style) | 실제 사용할 프롬프트 텍스트 입력                         | ✅  |
| 입력 변수   | JSON Form             | 이름, 설명, 타입(String/Number/Enum), 필수 여부, 기본값 | ❌  |
| 예시 추가   | Repeater              | 입력 값 + 예상 출력 값 작성 가능                       | ❌  |
| 태그      | Chips                 | 검색에 도움되는 태그 리스트                            | ❌  |
| 버전 메모   | TextField             | 변경 내용 요약 (최초 등록이면 “초안 작성” 등)               | ❌  |

---

## 📎 UX 요소

- ✅ **Auto-Save 기능** (5초 간격 또는 포커스 아웃 시 임시 저장)
- ✅ **템플릿 Preview 버튼** → 예시 입력값으로 결과 미리보기
- ✅ **공개 범위별 설명 안내**: 공개 선택 시 툴팁 또는 helper 텍스트로 안내
- ✅ **변수 자동 추출 제안 기능 (선택)**: {{variable}} 형식으로 본문 내 변수 추출 후 매핑 제안

---

## 🧩 기본 등록 흐름

1. 사용자 로그인 후 등록 화면 진입
2. 제목, 역할, 카테고리, 공개범위 선택
3. 본문 입력 (프롬프트 텍스트)
4. 필요한 경우 입력 변수 / 예시 추가
5. 저장 (DRAFT 상태로 저장됨)
6. 이후 상세 페이지에서 발행(PUBLISH) 가능

---

## 🔐 권한 정책

| 구분         | 권한 내용                    |
|------------|--------------------------|
| 일반 사용자     | 자신이 만든 템플릿만 등록/수정 가능     |
| 관리자        | 모든 사용자의 템플릿 등록 가능        |
| 팀 공개 선택 시  | 소속 팀이 있어야 팀 공유 가능        |
| 전체 공개 선택 시 | ADMIN 또는 별도 권한이 필요할 수 있음 |

---

## 📱 반응형 고려사항

- 모바일 최소 지원: 제목, 본문, 저장
- PC/태블릿: 변수, 예시, 태그, 고급 설정까지 전체 표시

---

## 💡 UI Mockup 예시 (텍스트 기반)

```
┌────────────────────────────────────────────┐
│  프롬프트 템플릿 등록                          [저장] │
├────────────────────────────────────────────┤
│ 제목         [                           ]              │
│ 역할         [▼ 백엔드 개발자]                      │
│ 카테고리     [▼ 개발 > 백엔드]                      │
│ 공개 범위    (● PRIVATE) (○ TEAM) (○ PUBLIC)  │
│ 설명         [ 템플릿 설명 입력 (선택)     ]         │
│ 프롬프트 본문                                  │
│ ┌────────────────────────────┐ │
│ │  예시: {{system}}, {{task}}를 기반으로 ~ │ │
│ └────────────────────────────┘ │
│ 변수 설정 [+ 변수 추가]                          │
│ 예시 추가 [+ 예시 추가]                          │
│ 태그         [ 백엔드, API, 예시1 ]                  │
└────────────────────────────────────────────┘
```

---

## 🛠️ 저장 동작

- `저장` 버튼 클릭 시: `PromptTemplate` + `PromptVersion(CREATE)` 함께 생성
- 기본 상태: `DRAFT`, 공개 범위에 따라 조회 제한
- 나중에 상세 화면에서 `PUBLISH` 동작 추가
